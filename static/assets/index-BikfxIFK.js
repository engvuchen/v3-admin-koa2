import{_ as u,f as d,m as _,t as v}from"./index-Cks_emWr.js";import{r,k as b,l as x,J as g,j as h}from"./element-plus-CdAUbEXj.js";const w={class:"self"},k={name:"self"},j=Object.assign(k,{setup(y){const{userinfo:t,getUserInfo:l}=d(),i=e=>{e.fields=[{component:"text",name:"id",label:"self.id",value:t.id,attributes:{hide:!0}},{component:"text",label:"self.username",name:"username",value:t.username},{component:"text",label:"self.newPassword",name:"password"},{component:"upload",label:"self.avatar",name:"avatar",value:t.avatar,attributes:{help:"JPG、PNG，<= 1MB",accept:["jpg","png"],size:1},validity:[]}]},c=r(null);let o={labelWidth:"90px",inputWidth:"200px",fields:[]};i(o);const p=r(o),f=async e=>{let{username:s,password:a,avatar:n}=e,m={...e.id?{id:e.id}:{},username:s,password:a,avatar:n};(await _(m)).code===0&&(v.success("成功"),(s||n)&&l(!0))};return(e,s)=>{const a=b("pro-form");return x(),g("div",w,[h(a,{ref_key:"proform",ref:c,config:p.value,onSubmit:f},null,8,["config"])])}}}),C=u(j,[["__scopeId","data-v-235877b6"]]);export{C as default};
